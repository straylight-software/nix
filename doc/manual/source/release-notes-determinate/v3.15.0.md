# Release 3.15.0 (2025-12-19)

* Based on [upstream Nix 2.33.0](../release-notes/rl-2.33.md).

## `fetchTree` improvement

`builtins.fetchTree` now implicitly treats the fetched tree as "final" when a `narHash` is supplied, meaning that it will not return attributes like `lastModified` or `revCount` unless they were specified by the caller. This makes it possible to substitute the tree from a binary cache, which is often more efficient. Furthermore, for Git inputs, it allows Nix to perform a shallow fetch, which is much faster.

This is primarily useful for users of `flake-compat`, since it uses `builtins.fetchTree` internally.

PR: [DeterminateSystems/nix-src#297](https://github.com/DeterminateSystems/nix-src/pull/297)

## New builtin function `builtins.filterAttrs`

Nixpkgs heavily relies on this function to select attributes from an attribute set:

```nix
filterAttrs = pred: set: removeAttrs set (filter (name: !pred name set.${name}) (attrNames set));
```

Determinate Nix now has this function built-in, which makes it much faster.

PR: [DeterminateSystems/nix-src#291](https://github.com/DeterminateSystems/nix-src/pull/291)

## New Contributors
* @not-ronjinger made their first contribution in [DeterminateSystems/nix-src#291](https://github.com/DeterminateSystems/nix-src/pull/291)

**Full Changelog**: [v3.14.0...v3.15.0](https://github.com/DeterminateSystems/nix-src/compare/v3.14.0...v3.15.0)
